name: Build C++ Project

on: [push]

jobs:
  build:
    name: Build on Ubuntu with GCC
    runs-on: ubuntu-latest # For Gitea, ensure you have a runner with the 'ubuntu-latest' label

    # Environment variables for the C/C++ compiler
    env:
      CC: gcc
      CXX: g++

    steps:
      # Step 1: Check out the repository code
      - name: Checkout repository
        uses: actions/checkout@v4 # Updated to the latest version for best practice
        # Note for Gitea: Ensure your instance can access this action or use a native 'git clone' command.

      # Step 2: Configure the project and build it
      - name: Configure and Build
        run: |
          # Configure using CMake. The -B flag creates the 'build' directory.
          # The build type is now hardcoded to 'Debug'.
          cmake -B build -DCMAKE_BUILD_TYPE=Debug -DCMAKE_VERBOSE_MAKEFILE=ON .

          # Build the project using the generated configuration.
          cmake --build build --config Debug
